var PetiteVue=function(e){"use strict";function t(e){if(f(e)){const n={};for(let r=0;r<e.length;r++){const o=e[r],i=t(d(o)?s(o):o);if(i)for(const e in i)n[e]=i[e]}return n}if(g(e))return e}const n=/;(?![^(]*\))/g,r=/:(.+)/;function s(e){const t={};return e.split(n).forEach((e=>{if(e){const n=e.split(r);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function o(e){let t="";if(d(e))t=e;else if(f(e))for(let n=0;n<e.length;n++){const r=o(e[n]);r&&(t+=r+" ")}else if(g(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function i(e,t){if(e===t)return!0;let n=h(e),r=h(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=f(e),r=f(t),n||r)return!(!n||!r)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=i(e[r],t[r]);return n}(e,t);if(n=g(e),r=g(t),n||r){if(!n||!r)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const r=e.hasOwnProperty(n),s=t.hasOwnProperty(n);if(r&&!s||!r&&s||!i(e[n],t[n]))return!1}}return String(e)===String(t)}function c(e,t){return e.findIndex((e=>i(e,t)))}const l={},a=Object.prototype.hasOwnProperty,u=(e,t)=>a.call(e,t),f=Array.isArray,p=e=>"[object Map]"===y(e),h=e=>e instanceof Date,d=e=>"string"==typeof e,m=e=>"symbol"==typeof e,g=e=>null!==e&&"object"==typeof e,v=Object.prototype.toString,y=e=>v.call(e),b=e=>d(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,w=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},$=/-(\w)/g,x=w((e=>e.replace($,((e,t)=>t?t.toUpperCase():"")))),_=/\B([A-Z])/g,k=w((e=>e.replace(_,"-$1").toLowerCase())),E=e=>{const t=parseFloat(e);return isNaN(t)?e:t},S=new WeakMap,O=[];let j;const A=Symbol(""),N=Symbol("");function P(e){e.active&&(T(e),e.options.onStop&&e.options.onStop(),e.active=!1)}let C=0;function T(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let R=!0;const M=[];function L(){const e=M.pop();R=void 0===e||e}function B(e,t,n){if(!R||void 0===j)return;let r=S.get(e);r||S.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=new Set),s.has(j)||(s.add(j),j.deps.push(s))}function I(e,t,n,r,s,o){const i=S.get(e);if(!i)return;const c=new Set,l=e=>{e&&e.forEach((e=>{(e!==j||e.allowRecurse)&&c.add(e)}))};if("clear"===t)i.forEach(l);else if("length"===n&&f(e))i.forEach(((e,t)=>{("length"===t||t>=r)&&l(e)}));else switch(void 0!==n&&l(i.get(n)),t){case"add":f(e)?b(n)&&l(i.get("length")):(l(i.get(A)),p(e)&&l(i.get(N)));break;case"delete":f(e)||(l(i.get(A)),p(e)&&l(i.get(N)));break;case"set":p(e)&&l(i.get(A))}c.forEach((e=>{e.options.scheduler?e.options.scheduler(e):e()}))}const q=function(e,t){const n=Object.create(null),r=e.split(",");for(let e=0;e<r.length;e++)n[r[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}("__proto__,__v_isRef,__isVue"),W=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(m)),z=U(),V=U(!0),K=function(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{const n=Array.prototype[t];e[t]=function(...e){const t=Y(this);for(let e=0,n=this.length;e<n;e++)B(t,0,e+"");const r=n.apply(t,e);return-1===r||!1===r?n.apply(t,e.map(Y)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{const n=Array.prototype[t];e[t]=function(...e){M.push(R),R=!1;const t=n.apply(this,e);return L(),t}})),e}();function U(e=!1,t=!1){return function(n,r,s){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_raw"===r&&s===(e?t?Z:J:t?D:H).get(n))return n;const o=f(n);if(!e&&o&&u(K,r))return Reflect.get(K,r,s);const i=Reflect.get(n,r,s);return(m(r)?W.has(r):q(r))?i:(e||B(n,0,r),t?i:ee(i)?o&&b(r)?i:i.value:g(i)?e?function(e){return Q(e,!0,G,null,J)}(i):X(i):i)}}const F={get:z,set:function(e=!1){return function(t,n,r,s){let o=t[n];if(!e&&(r=Y(r),o=Y(o),!f(t)&&ee(o)&&!ee(r)))return o.value=r,!0;const i=f(t)&&b(n)?Number(n)<t.length:u(t,n),c=Reflect.set(t,n,r,s);return t===Y(s)&&(i?((e,t)=>e!==t&&(e==e||t==t))(r,o)&&I(t,"set",n,r):I(t,"add",n,r)),c}}(),deleteProperty:function(e,t){const n=u(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&I(e,"delete",t,void 0),r},has:function(e,t){const n=Reflect.has(e,t);return m(t)&&W.has(t)||B(e,0,t),n},ownKeys:function(e){return B(e,0,f(e)?"length":A),Reflect.ownKeys(e)}},G={get:V,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},H=new WeakMap,D=new WeakMap,J=new WeakMap,Z=new WeakMap;function X(e){return e&&e.__v_isReadonly?e:Q(e,!1,F,null,H)}function Q(e,t,n,r,s){if(!g(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=s.get(e);if(o)return o;const i=function(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>y(e).slice(8,-1))(e))}(e);if(0===i)return e;const c=new Proxy(e,2===i?r:n);return s.set(e,c),c}function Y(e){return e&&Y(e.__v_raw)||e}function ee(e){return Boolean(e&&!0===e.__v_isRef)}const te=/^(spellcheck|draggable|form|list|type)$/,ne=({el:e,get:t,effect:n,arg:r,modifiers:s})=>{let o;"class"===r&&(e._class=e.className),n((()=>{let n=t();if(r)(null==s?void 0:s.camel)&&(r=x(r)),re(e,r,n,o);else{for(const t in n)re(e,t,n[t],o&&o[t]);for(const t in o)n&&t in n||re(e,t,null)}o=n}))},re=(e,n,r,s)=>{if("class"===n)e.setAttribute("class",o(e._class?[e._class,r]:r)||"");else if("style"===n){r=t(r);const{style:n}=e;if(r)if(d(r))r!==s&&(n.cssText=r);else{for(const e in r)oe(n,e,r[e]);if(s&&!d(s))for(const e in s)null==r[e]&&oe(n,e,"")}else e.removeAttribute("style")}else e instanceof SVGElement||!(n in e)||te.test(n)?"true-value"===n?e._trueValue=r:"false-value"===n?e._falseValue=r:null!=r?e.setAttribute(n,r):e.removeAttribute(n):(e[n]=r,"value"===n&&(e._value=r))},se=/\s*!important$/,oe=(e,t,n)=>{f(n)?n.forEach((n=>oe(e,t,n))):t.startsWith("--")?e.setProperty(t,n):se.test(n)?e.setProperty(k(t),n.replace(se,""),"important"):e[t]=n},ie=(e,t)=>{const n=e.getAttribute(t);return null!=n&&e.removeAttribute(t),n},ce=(e,t,n,r)=>{e.addEventListener(t,n,r)};let le=!1;const ae=[],ue=Promise.resolve(),fe=e=>ue.then(e),pe=e=>{ae.includes(e)||ae.push(e),le||(le=!0,fe(he))},he=()=>{for(let e=0;e<ae.length;e++)ae[e]();ae.length=0,le=!1},de=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,me=["ctrl","shift","alt","meta"],ge={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>me.some((n=>e[`${n}Key`]&&!t[n]))},ve=({el:e,get:t,exp:n,arg:r,modifiers:s})=>{if(!r)return;let o=de.test(n)?t(`(e => ${n}(e))`):t(`($event => { ${n} })`);if("mounted"!==r){if("unmounted"===r)return()=>o();if(s){"click"===r&&(s.right&&(r="contextmenu"),s.middle&&(r="mouseup"));const e=o;o=t=>{if(!("key"in t)||k(t.key)in s){for(const e in s){const n=ge[e];if(n&&n(t,s))return}return e(t)}}}ce(e,r,o,s)}else fe(o)},ye=({el:e,get:t,effect:n})=>{n((()=>{e.textContent=be(t())}))},be=e=>null==e?"":g(e)?JSON.stringify(e,null,2):String(e),we=e=>"_value"in e?e._value:e.value,$e=(e,t)=>{const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t},xe=e=>{e.target.composing=!0},_e=e=>{const t=e.target;t.composing&&(t.composing=!1,ke(t,"input"))},ke=(e,t)=>{const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)},Ee=Object.create(null),Se=(e,t,n)=>Oe(e,`return(${t})`,n),Oe=(e,t,n)=>{const r=Ee[t]||(Ee[t]=je(t));try{return r(e,n)}catch(e){console.error(e)}},je=e=>{try{return new Function("$data","$el",`with($data){${e}}`)}catch(t){return console.error(`${t.message} in expression: ${e}`),()=>{}}},Ae={bind:ne,on:ve,show:({el:e,get:t,effect:n})=>{const r=e.style.display;n((()=>{e.style.display=t()?r:"none"}))},text:ye,html:({el:e,get:t,effect:n})=>{n((()=>{e.innerHTML=t()}))},model:({el:e,exp:t,get:n,effect:r,modifiers:s})=>{const o=e.type,l=n(`(val) => { ${t} = val }`),{trim:a,number:u="number"===o}=s||{};if("SELECT"===e.tagName){const t=e;ce(e,"change",(()=>{const e=Array.prototype.filter.call(t.options,(e=>e.selected)).map((e=>u?E(we(e)):we(e)));l(t.multiple?e:e[0])})),r((()=>{const e=n(),r=t.multiple;for(let n=0,s=t.options.length;n<s;n++){const s=t.options[n],o=we(s);if(r)f(e)?s.selected=c(e,o)>-1:s.selected=e.has(o);else if(i(we(s),e))return void(t.selectedIndex!==n&&(t.selectedIndex=n))}r||-1===t.selectedIndex||(t.selectedIndex=-1)}))}else if("checkbox"===o){let t;ce(e,"change",(()=>{const t=n(),r=e.checked;if(f(t)){const n=we(e),s=c(t,n),o=-1!==s;if(r&&!o)l(t.concat(n));else if(!r&&o){const e=[...t];e.splice(s,1),l(e)}}else l($e(e,r))})),r((()=>{const r=n();f(r)?e.checked=c(r,we(e))>-1:r!==t&&(e.checked=i(r,$e(e,!0))),t=r}))}else if("radio"===o){let t;ce(e,"change",(()=>{l(we(e))})),r((()=>{const r=n();r!==t&&(e.checked=i(r,we(e)))}))}else{const t=e=>a?e.trim():u?E(e):e;ce(e,"compositionstart",xe),ce(e,"compositionend",_e),ce(e,(null==s?void 0:s.lazy)?"change":"input",(()=>{e.composing||l(t(e.value))})),a&&ce(e,"change",(()=>{e.value=e.value.trim()})),r((()=>{if(e.composing)return;const r=e.value,s=n();document.activeElement===e&&t(r)===s||r!==s&&(e.value=s)}))}},effect:({el:e,ctx:t,exp:n,effect:r})=>{fe((()=>r((()=>Oe(t.scope,n,e)))))}},Ne=(e,t={})=>{const n=e.scope,r=Object.create(n);Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)),r.$refs=Object.create(n.$refs);const s=X(new Proxy(r,{set:(e,t,r,o)=>o!==s||e.hasOwnProperty(t)?Reflect.set(e,t,r,o):Reflect.set(n,t,r)}));return{...e,scope:s}},Pe=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Ce=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Te=/^\(|\)$/g,Re=/^[{[]\s*((?:[\w_$]+\s*,?\s*)+)[\]}]$/,Me=({el:e,ctx:{scope:{$refs:t}},get:n,effect:r})=>{let s;return r((()=>{const r=n();t[r]=e,s&&r!==s&&delete t[s],s=r})),()=>{s&&delete t[s]}},Le=e=>{const t={...e,scope:e?e.scope:X({}),dirs:e?e.dirs:{},effects:[],blocks:[],cleanups:[],effect:e=>{if(We)return pe(e),e;const n=function(e,t=l){(function(e){return e&&!0===e._isEffect})(e)&&(e=e.raw);const n=function(e,t){const n=function(){if(!n.active)return e();if(!O.includes(n)){T(n);try{return M.push(R),R=!0,O.push(n),j=n,e()}finally{O.pop(),L(),j=O[O.length-1]}}};return n.id=C++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}(e,t);return t.lazy||n(),n}(e,{scheduler:()=>pe(n)});return t.effects.push(n),n}};return t},Be=/^(?:v-|:|@)/,Ie=/\.([\w-]+)/g,qe=/\{\{([^]+?)\}\}/g;let We=!1;const ze=(e,t)=>{const n=e.nodeType;if(1===n){const n=e;if(n.hasAttribute("v-pre"))return;let r;if(r=ie(n,"v-if"))return((e,t,n)=>{const r=e.parentElement,s=new Comment("v-if");r.insertBefore(s,e);const o=[{exp:t,el:e}];let i,c;for(;(i=e.nextElementSibling)&&(c=null,""===ie(i,"v-else")||(c=ie(i,"v-else-if")));)r.removeChild(i),o.push({exp:c,el:i});const l=e.nextSibling;let a;r.removeChild(e);let u=-1;const f=()=>{a&&(r.insertBefore(s,a.el),a.remove(),a=void 0)};return n.effect((()=>{for(let e=0;e<o.length;e++){const{exp:t,el:i}=o[e];if(!t||Se(n.scope,t))return void(e!==u&&(f(),a=new Ge(i,n),a.insert(r,s),r.removeChild(s),u=e))}u=-1,f()})),l})(n,r,t);if(r=ie(n,"v-for"))return((e,t,n)=>{const r=t.match(Pe);if(!r)return;const s=e.nextSibling,o=e.parentElement,i=new Text("");o.insertBefore(i,e),o.removeChild(e);const c=r[2].trim();let l,a,u,p,h=r[1].trim().replace(Te,"").trim(),d=!1,m="key",v=e.getAttribute(m)||e.getAttribute(m=":key")||e.getAttribute(m="v-bind:key");v&&(e.removeAttribute(m),"key"===m&&(v=JSON.stringify(v))),(p=h.match(Ce))&&(h=h.replace(Ce,"").trim(),a=p[1].trim(),p[2]&&(u=p[2].trim())),(p=h.match(Re))&&(l=p[1].split(",").map((e=>e.trim())),d="["===h[0]);let y,b,w,$=!1;const x=(e,t,r,s)=>{const o={};l?l.forEach(((e,n)=>o[e]=t[d?n:e])):o[h]=t,s?(a&&(o[a]=s),u&&(o[u]=r)):a&&(o[a]=r);const i=Ne(n,o),c=v?Se(i.scope,v):r;return e.set(c,r),{ctx:i,key:c}},_=({ctx:t,key:n},r)=>{const s=new Ge(e,t);return s.key=n,s.insert(o,r),s};return n.effect((()=>{const e=Se(n.scope,c),t=w;if([b,w]=(e=>{const t=new Map,n=[];if(f(e))for(let r=0;r<e.length;r++)n.push(x(t,e[r],r));else if("number"==typeof e)for(let r=0;r<e;r++)n.push(x(t,r+1,r));else if(g(e)){let r=0;for(const s in e)n.push(x(t,e[s],r++,s))}return[n,t]})(e),$){const e=[];for(let e=0;e<y.length;e++)w.has(y[e].key)||y[e].remove();let n=b.length;for(;n--;){const r=b[n],s=t.get(r.key),c=b[n+1],l=c&&t.get(c.key),a=null==l?void 0:y[l];if(null==s)e[n]=_(r,a?a.el:i);else{const t=e[n]=y[s];Object.assign(t.ctx.scope,r.ctx.scope),s!==n&&y[s+1]!==a&&t.insert(o,a?a.el:i)}}y=e}else y=b.map((e=>_(e,i))),$=!0})),s})(n,r,t);if((r=ie(n,"v-scope"))||""===r){const e=r?Se(t.scope,r):{};t=Ne(t,e),e.$template&&Fe(n,e.$template)}const s=null!=ie(n,"v-once");let o;s&&(We=!0),(r=ie(n,"ref"))&&Ue(n,Me,`"${r}"`,t),Ve(n,t);for(const{name:e,value:r}of[...n.attributes])Be.test(e)&&"v-cloak"!==e&&("v-model"===e?o=r:Ke(n,e,r,t));o&&Ke(n,"v-model",o,t),s&&(We=!1)}else if(3===n){const n=e.data;if(n.includes("{{")){let r,s=[],o=0;for(;r=qe.exec(n);){const e=n.slice(o,r.index);e&&s.push(JSON.stringify(e)),s.push(`$s(${r[1]})`),o=r.index+r[0].length}o<n.length&&s.push(JSON.stringify(n.slice(o))),Ue(e,ye,s.join("+"),t)}}else 11===n&&Ve(e,t)},Ve=(e,t)=>{let n=e.firstChild;for(;n;)n=ze(n,t)||n.nextSibling},Ke=(e,t,n,r)=>{let s,o,i,c=null;for(;c=Ie.exec(t);)(i||(i={}))[c[1]]=!0,t=t.slice(0,c.index);if(":"===t[0])s=ne,o=t.slice(1);else if("@"===t[0])s=ve,o=t.slice(1);else{const e=t.indexOf(":"),n=e>0?t.slice(2,e):t.slice(2);s=Ae[n]||r.dirs[n],o=e>0?t.slice(e+1):void 0}s&&(s===ne&&"ref"===o&&(s=Me),Ue(e,s,n,r,o,i),e.removeAttribute(t))},Ue=(e,t,n,r,s,o)=>{const i=t({el:e,get:(t=n)=>Se(r.scope,t,e),effect:r.effect,ctx:r,exp:n,arg:s,modifiers:o});i&&r.cleanups.push(i)},Fe=(e,t)=>{if("#"!==t[0])e.innerHTML=t;else{const n=document.querySelector(t);e.appendChild(n.content.cloneNode(!0))}};class Ge{get el(){return this.start||this.template}constructor(e,t,n=!1){this.isFragment=e instanceof HTMLTemplateElement,n?this.template=e:this.isFragment?this.template=e.content.cloneNode(!0):this.template=e.cloneNode(!0),n?this.ctx=t:(this.parentCtx=t,t.blocks.push(this),this.ctx=Le(t)),ze(this.template,this.ctx)}insert(e,t=null){if(this.isFragment)if(this.start){let n,r=this.start;for(;r&&(n=r.nextSibling,e.insertBefore(r,t),r!==this.end);)r=n}else this.start=new Text(""),this.end=new Text(""),e.insertBefore(this.end,t),e.insertBefore(this.start,this.end),e.insertBefore(this.template,this.end);else e.insertBefore(this.template,t)}remove(){if(this.parentCtx&&((e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)})(this.parentCtx.blocks,this),this.start){const e=this.start.parentNode;let t,n=this.start;for(;n&&(t=n.nextSibling,e.removeChild(n),n!==this.end);)n=t}else this.template.parentNode.removeChild(this.template);this.teardown()}teardown(){this.ctx.blocks.forEach((e=>{e.teardown()})),this.ctx.effects.forEach(P),this.ctx.cleanups.forEach((e=>e()))}}const He=e=>{const t=Le();let n;return e&&(t.scope=X(e)),t.scope.$s=be,t.scope.$nextTick=fe,t.scope.$refs=Object.create(null),{directive(e,n){return n?(t.dirs[e]=n,this):t.dirs[e]},mount(e){if("string"==typeof e&&!(e=document.querySelector(e)))return;let r;return r=(e=e||document.documentElement).hasAttribute("v-scope")?[e]:[...e.querySelectorAll("[v-scope]")].filter((e=>!e.matches("[v-scope] [v-scope]"))),r.length||(r=[e]),n=r.map((e=>new Ge(e,t,!0))),[e,...e.querySelectorAll("[v-cloak]")].forEach((e=>e.removeAttribute("v-cloak"))),this},unmount(){n.forEach((e=>e.teardown()))}}};let De;return(De=document.currentScript)&&De.hasAttribute("init")&&He().mount(),e.createApp=He,e.nextTick=fe,e.reactive=X,Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module",e}({}),zkil=function(){"use strict";function e(e,t,n){return function(r){const s={...n};return r&&Object.keys(r).forEach((e=>{s[e]=r[e]})),function(n){const r={...n,...t};return e&&(r.$template=`#${e}`),r}(s)}}const t={Store:function(e){const t=window.ENGINE,n=e.val?e.val:{},r=e.ctx?e.ctx:{},s=e.model?e.model:{},o={};return Object.keys(s).forEach((e=>{o[e]=t.reactive(s[e])})),{ctx:t.reactive(r),val:n,model:o}},App:function(e,t){return{app:window.ENGINE.createApp({store:t,app:e}),store:t,gui:e}}};const n="gui-design",r="gui-script";const s={html:function(e){const t=e.id,n=e.code;if(t)window.document.querySelector(`#${t}`).innerHTML=n;else{const e=document.createElement("div");e.innerHTML=n,document.body.insertBefore(e,document.body.firstChild)}},css:function(e){const t=e.id,r=e.code;(function(e){const t=window.document.querySelectorAll(`[${n}="${e}"]`);if(t.length>0)return t[0];{const t=window.document.createElement("style");return t.setAttribute(n,e),window.document.head.append(t),t}}(t)).textContent=r.replace(/\s\s+/g," ").replace(/\r?\n|\r/g,"").trim()},js:function(e){const t=e.id,n=e.src;if(n){let e=document.querySelectorAll(`[${r}="${t}"]`);e.length>0&&e[0].remove(),e=window.document.createElement("script"),e.setAttribute(r,t),e.src=n;const s=window.document.getElementsByTagName("script")[0];s.parentNode.insertBefore(e,s)}}},o=function(){function e(e,t){return new Promise(((n,r)=>{fetch(e,t).then((e=>e.json())).then((e=>n(e))).catch((e=>r(e)))}))}class t{constructor(e,t){this.host=e,this.options=t,this.baseURL=e=>function(e,t){return(e.endsWith("/")?e:e+"/")+(t.startsWith("/")?t.substring(1):t)}(this.host,e)}static createAPI(e,n={}){return new t(e,{mode:"cors",credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json; charset=UTF-8"},...n})}get(t=null,n=!1){const r=n?`?${new URLSearchParams(n).toString()}`:"";return e(`${this.baseURL(t)}${r}`,{...this.options,method:"GET"})}post(t=null,n=!1){const r=`${this.baseURL(t)}`,s=n&&JSON.stringify(n),o={method:"POST"};n&&(o.body=s);return e(r,{...this.options,...o})}graphql(e=null,t={}){const n=t||{},r={query:e},s=n.operationName?n.operationName:null,o=n.variables?n.variables:null;return o&&(r.variables=o),s&&(r.operationName=s),this.post("graphql",r)}}return t.createAPI}();class i{constructor(e,t,n,r){this.$component={},this.app=this.startProject(e,t,n,r)}startProject(e,n,r,o){const i=t.Store({val:e,ctx:n,model:r}),c={},l=[];return Object.keys(o).forEach((e=>{this.createComponent(o[e]);let t=this.$component[e];c[e]=t.view,l.push(t.template)})),s.html({code:l.join("\n")}),t.App(c,i)}createComponent({name:t=null,code:n=null,methods:r={},data:s={}}={}){const o=t||function(e,t){const n=function(e,t){let n="";const r="abcdefghijklmnopqrstuvwxyz"+"0123456789";for(let t=0;t<e;t+=1)n+=r.charAt(Math.floor(Math.random()*r.length));return n}(e);let r="";return r=t?`X__${t.toUpperCase()}__X${n}`:n,r}(32,"component"),i=`${o}-template`,c=e(i,r,s);this.$component[o]={id:o,view:c,template:`<template id="${i}">${n}</template>`}}}const c={createApp:function({val:e=null,ctx:t={},model:n={},component:r={}}={}){return{...new i(e,t,n,r).app,inject:s}},inject:s,dict:function(e={}){const t=window.ENGINE;class n{constructor(){this.$init=!1,this.$data=t.reactive({...e}),this.$dir=Object.freeze(["keys","values","items","get(key)","set(key, value)","del(key)","update(json)","reset","forDict((key, value) => { console.log(key, value); });","forList((item) => { console.log(item); });"]),this.update({...e}),this.reset=()=>{this.update({...e})}}static createClass(){return Object.create(new n)}get(e){return this.$data[e]}set(e,t){void 0===n.prototype[e]&&Object.defineProperty(n.prototype,e,{get(){return this.$data[e]},set(t){this.$data[e]=t}}),this.$data[e]=t}update(e){const t=Object.keys(e);this.$init?t.forEach((t=>{this.$data[t]=e[t]})):(this.$init=!0,t.forEach((t=>{this.set(t,e[t])})))}del(e){delete this[e],delete this.$data[e]}keys(){return Object.keys(this.$data)}values(){return Object.values(this.$data)}items(){const e=Object.keys(this.$data),t=[];return e.forEach((e=>{t.push([e,this.$data[e]])})),t}get dir(){return this.$dir}forDict(e=null){return this.items().map((t=>e(t[0],t[1])))}forList(e=null){return this.items().map((t=>e(t)))}}return n.createClass()},api:o};return window.ENGINE=PetiteVue,c}();
